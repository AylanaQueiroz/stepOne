<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>multistep Form</title>
  <link rel="stylesheet" href=style.css>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Caveat&family=Croissant+One&family=DM+Sans&family=Manrope:wght@500&family=Outfit:wght@700&display=swap"
    rel="stylesheet">

</head>

<body>
  <section>
    <div class="sidebar">
      <img src="img/sidebar.svg" alt="imagem de fundo da barra lateral">
      <div class="your_info">
        <button>1</button>
        <label class="step1">STEP 1 <br><b>YOUR INFO</b></label>
        <button>2</button>
        <label class="step1">STEP 2 <br><b>SELECT PLAN</b></label>
        <button>3</button>
        <label class="step1">STEP 3 <br><b>ADD-ONS</b></label>
        <button>4</button>
        <label class="step1">STEP 4 <br><b>SUMMARY</b></label>
      </div>
    </div>
    </div>
    <div class="information_side">
      <div class="form_box">
        <h1> Personal info</h1>
        <h2>Please provide your name, email address, and phone number.</h2>
        <form class="formulario">
          <label for="name">Name</label> <br>
          <input type="text" placeholder="e,g Stephen King" class="inputs required" id="name"
            oninput="nameValidate()"><br>
          <span class="span">This Field is required</span><br>
          <label for="email"> Email Address</label><br>
          <input type="email" placeholder=" king@king.com" class="inputs required" id="email"
            oninput="emailValidate()"><br>
            <span class="span">Invalid E-mail</span><br>
          <label for="telephone">Phone Number</label> <br>
          <input type="tel" placeholder="37823 232323 323" class="inputs required" id="telephone"
            oninput="phoneValidate()"><br>
            <span class="span">Invalid phone Number</span><br>
        </form>
      </div>
      <button class="end"> <a href="file:///C:/Users/user/workspace/stepOne/form-steps/index2.html">Next Step</a></button>
    </div>
    </div>
  </section>
  <script>


    const campos = document.querySelectorAll('.required');
    const form = document.getElementsByClassName('formulario');
    const spans =  document.querySelectorAll('.span');
    const emailRegex = /\S+@\S+\.\S+/;
    const phoneRegex = '^[0-9]+$';
    const onlyNumbers = new RegExp('^[0-9]+$')


    function setError(index) {
      campos[index].style.border = '2px solid #e63636';
      spans[index].style.display = 'block'
    }

    function quitError(index) {
      campos[index].style.border = '2px solid black';
      spans[index].style.display = 'none'
      //spans[index].innerHTML ='âœ…valid'
      //spans[index].style.color = 'green'
      
     
    }

    function nameValidate() {

      if (campos[0].value.length < 3) {

        setError(0); 

      } else {
        quitError(0);
      }
    }

    function emailValidate() {

      if (!emailRegex.test(campos[1].value)) {

        setError(1);

      } else {

        quitError(1);
      }
    }

    function phoneValidate() {

      if (!onlyNumbers.test(campos[2].value)) {

        setError(2);

      } else {
        
        quitError(2);
      }
    }



  </script>

</body>

</html>